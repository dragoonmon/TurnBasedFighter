#include <iostream>
#include <array>

using namespace std;

array<int, 2> playerPosition;
array<int, 2> comPosition;

int gridSize = 10;
bool playing = true;

bool checkMove(int direction)
{
    if(playerPosition[1] == 0 && direction == 3)
    {
        return false;
    }
    else if(playerPosition[1] == gridSize - 1 && direction == 4)
    {
        return false;
    }
    else if(playerPosition[2] == 1 && direction == 1)
    {
        return false;
    }
    else if(playerPosition[2] == gridSize - 1 && direction == 2)
    {
        return false;
    }

    return true;
}

bool checkAttack()
{
    if((abs(playerPosition[1] - comPosition[1]) == 1 && playerPosition[2] == comPosition[2]) || (abs(playerPosition[2] - comPosition[2]) == 1 && playerPosition[1] == comPosition[1]))
    {
        return false;
    }
    else
    {
        return true;
    }
}

void grid()
{
    for(int y = 0; y < 10; y++)
    {
        cout << "----------------------------------------" << endl;
        for(int x = 0; x < 10; x++)
        {
            cout << "|";

            if(x == playerPosition[1] && y == playerPosition[2])
            {
                cout << "PP";
            }

            else if(x == comPosition[1] && y == comPosition[2])
            {
                cout << "CP";
            }
            else
            {
                cout << "  ";
            }

               cout << "|" ;
        }
        cout << endl;
    }
}


void movePlayer()
{
    int i;
    do
    {
        grid();
        cout << "Select an option: " << endl;
        cout << "1. UP" << endl;
        cout << "2. DOWN" << endl;
        cout << "3. LEFT" << endl;
        cout << "4. RIGHT" << endl;
        cout << "5. REST" << endl;
        cin >> i;
    } while(checkMove(i) == false && i < 6);

    if(i == 1)
    {
        playerPosition[2] -= 1;
    }
    else if(i == 2)
    {
        playerPosition[2] += 1;
    }
    else if(i == 3)
    {
        playerPosition[1] -= 1;
    }
    else if(i == 4)
    {
        playerPosition[1] += 1;
    }
}

void gameOver()
{
    grid();
    cout << "Game Over!" << endl;
}

void playGame()
{

    playerPosition[1] = 0;
    playerPosition[2] = 5;
    comPosition[1] = 3;
    comPosition[2] = 4;

    while(playing)
    {
    movePlayer();
    playing = checkAttack();
    }

    gameOver();
}


int main()
{
    playGame();
    return 0;
}
